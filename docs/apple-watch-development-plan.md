# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è Apple Watch

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è Apple Watch —Å —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ—Å–Ω–æ–≤–Ω—ã–º iOS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —á–∞—Å–æ–≤ –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–µ–Ω—å –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone.

## –¶–µ–ª–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —á–∞—Å–æ–≤
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å –∏–∑ 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (`DayActivityType`):
  - `workout` - —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
  - `stretch` - —Ä–∞—Å—Ç—è–∂–∫–∞
  - `rest` - –æ—Ç–¥—ã—Ö
  - `sick` - –±–æ–ª–µ–∑–Ω—å
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Ç–∏–ø `workout`):
  - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone:
  - –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ WatchConnectivity
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI –¥–ª—è —á–∞—Å–æ–≤ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞)
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫)
- **–ß–∞—Å—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ** - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Å iPhone –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ iPhone –≤ SwiftData
- **–°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è** –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ WatchConnectivity (—Å–º. —Ä–∞–∑–¥–µ–ª 1.3)
- **–¢–µ–∫—É—â–∏–π –¥–µ–Ω—å** –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ WatchConnectivity (–≥–æ—Ç–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–Ω—è), –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `AuthRequiredView`
- **iPhone –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–∞–Ω–Ω—ã—Ö** (SwiftData)
- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ iPhone –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
SotkaWatch Watch App/
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îî‚îÄ‚îÄ AuthState.swift                 # –ú–æ–¥–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è Watch App ‚úÖ
‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îú‚îÄ‚îÄ WatchAuthService.swift          # –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è Watch App ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WatchAuthServiceProtocol.swift  # –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–µ—Ä–≤–∏—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WatchConnectivityService.swift  # –°–µ—Ä–≤–∏—Å —Å–≤—è–∑–∏ —Å iPhone —á–µ—Ä–µ–∑ WatchConnectivity ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WatchConnectivityServiceProtocol.swift # –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–µ—Ä–≤–∏—Å–∞ —Å–≤—è–∑–∏ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WatchWorkoutService.swift       # –°–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–ª—è Watch App ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ WCSessionProtocol.swift         # –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è WCSession (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) ‚úÖ
‚îú‚îÄ‚îÄ ViewModels/
‚îÇ   ‚îú‚îÄ‚îÄ HomeViewModel.swift              # ViewModel –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WorkoutViewModel.swift          # ViewModel –¥–ª—è —ç–∫—Ä–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ WorkoutPreviewViewModel.swift   # ViewModel –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –ø—Ä–µ–≤—å—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚úÖ
‚îú‚îÄ‚îÄ Views/
‚îÇ   ‚îú‚îÄ‚îÄ AuthRequiredView.swift          # –≠–∫—Ä–∞–Ω –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ HomeView.swift                  # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —á–∞—Å–æ–≤ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ DayActivityView.swift           # –≠–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–Ω—è (–≤—ã–±–æ—Ä/–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ) ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ DayActivitySelectionView.swift  # –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ SelectedActivityView.swift      # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WatchDayActivityTrainingView.swift # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WatchDayActivityCommentView.swift  # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WorkoutPreviewView.swift        # –≠–∫—Ä–∞–Ω –ø—Ä–µ–≤—å—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WorkoutEditView.swift           # –≠–∫—Ä–∞–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WorkoutStepperView.swift        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π (stepper) ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ WorkoutView.swift               # –≠–∫—Ä–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ WorkoutRestTimerView.swift      # –¢–∞–π–º–µ—Ä –æ—Ç–¥—ã—Ö–∞ –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏/–ø–æ–¥—Ö–æ–¥–∞–º–∏ ‚úÖ

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: 
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è Watch App —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ `Models/`
- –ú–æ–¥–µ–ª–∏ –¥–ª—è —ç—Ç–∞–ø–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (WorkoutStep, WorkoutState, WorkoutStepState) –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Watch App target
- –ü—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–ª—É—á–∞—é—Ç Codable –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —á–µ—Ä–µ–∑ WatchConnectivity, –º–æ–¥–µ–ª–∏ —Å `@Model` (SwiftData) –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞ —á–∞—Å–∞—Ö
- –ê—Å—Å–µ—Ç—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º `ExercisesAssets.xcassets`, –¥–æ—Å—Ç—É–ø–Ω–æ–º –æ–±–æ–∏–º —Ç–∞—Ä–≥–µ—Ç–∞–º
```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **SwiftUI** - –¥–ª—è UI (watchOS –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SwiftUI)
- **WatchConnectivity** - –¥–ª—è —Å–≤—è–∑–∏ —Å iPhone
- **OSLog** - –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–∞–∂–Ω–æ:** 
- –ß–∞—Å—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç SwiftData, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Å iPhone –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ú–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–ª—É—á–∞—é—Ç Codable –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —á–µ—Ä–µ–∑ WatchConnectivity
- UIKit API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ watchOS: –º–µ—Ç–æ–¥—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ `UIImpactFeedbackGenerator`, `UIViewControllerRepresentable` –∏ –¥—Ä—É–≥–∏–µ UIKit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è watchOS —á–µ—Ä–µ–∑ `#if !os(watchOS)` –∏–ª–∏ –ø–æ–º–µ—á–µ–Ω—ã `@available(watchOS, unavailable)`
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ SwiftUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TextFieldLink` –¥–ª—è watchOS) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç—ã –≤ —É—Å–ª–æ–≤–Ω—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é `#if os(watchOS)`

### –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone

#### WatchConnectivity Service

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–≤—è–∑–∏:**
- iPhone - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (SwiftData)
- –ß–∞—Å—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ WatchConnectivity –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —á–∞—Å–æ–≤ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ iPhone —á–µ—Ä–µ–∑ WatchConnectivity (`sendMessage`)
- –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ WatchConnectivity, –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `AuthRequiredView`

**–ö–æ–º–∞–Ω–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:** (—Å–º. —Ä–∞–∑–¥–µ–ª "–ö–æ–º–∞–Ω–¥—ã WatchConnectivity" –Ω–∏–∂–µ)

**–ú–µ—Ö–∞–Ω–∏–∑–º—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö:**
- `sendMessage` - –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç—Ä–µ–±—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
- JSON –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- –ü—Ä–æ—Å—Ç—ã–µ —Ç–∏–ø—ã (Int, String, Bool) –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–∞–Ω–¥

#### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ü—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å —Å —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—á–∞—Å—ã –∏ iPhone) –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:
- –ù–∞ iPhone –Ω–∞—á–∞–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É (—Å–æ–∑–¥–∞–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å `.workout`), –Ω–æ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏ –∏ —Å–≤–µ—Ä–Ω—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ù–∞ —á–∞—Å–∞—Ö –≤—ã–±—Ä–∞–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å "–æ—Ç–¥—ã—Ö" –¥–ª—è —Ç–æ–≥–æ –∂–µ –¥–Ω—è
- –ë–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ "–æ—Ç–¥—ã—Ö", —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:**

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫:**
   - –ï—Å–ª–∏ –Ω–∞ –¥–µ–Ω—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–∏–ø–∞ `.workout` (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞), –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–π —Ç–∏–ø –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`.rest`, `.stretch`, `.sick`) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö –æ –Ω–∞—á–∞—Ç–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ iPhone –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–º–∞–Ω–¥—ã `WATCH_COMMAND_SET_ACTIVITY` –æ—Ç —á–∞—Å–æ–≤

2. **Last Write Wins (LWW) –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞–µ–≤:**
   - –î–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–∞ `.rest`, `.stretch`, `.sick` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è LWW –Ω–∞ –æ—Å–Ω–æ–≤–µ `modifyDate`
   - –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–±–µ–∂–¥–∞–µ—Ç (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `modifyDate` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏)
   - –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º:**
   - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `WATCH_COMMAND_SET_ACTIVITY` –Ω–∞ iPhone:
     - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–Ω—è
     - –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏–º–µ–µ—Ç —Ç–∏–ø `.workout`:
       - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É –Ω–∞ —á–∞—Å—ã)
       - –ò–ª–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—à–µ–Ω–æ —Å iPhone)
     - –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –∏–º–µ–µ—Ç –¥—Ä—É–≥–æ–π —Ç–∏–ø - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ

4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   - –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∏–∑–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ —á–∞—Å–∞—Ö, –µ—Å–ª–∏ –Ω–∞ iPhone –µ—Å—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞:
     - –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –Ω–∞ —á–∞—Å–∞—Ö: "–ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –Ω–∞—á–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞"
     - –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –µ—ë –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

5. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:**
   - –ï—Å–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–µ—Å—Ç—å `count` –∏ `duration`), –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–π —Ç–∏–ø –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–∑–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ `WatchConnectivityManager` –Ω–∞ iPhone –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–º–∞–Ω–¥—ã `WATCH_COMMAND_SET_ACTIVITY`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `DailyActivitiesService` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –Ω–∞ —á–∞—Å—ã —á–µ—Ä–µ–∑ WatchConnectivity
- –ß–∞—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**
- –≠—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–µ LWW –≤ `DailyActivitiesService.downloadServerActivities()`

## –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–í–∞–∂–Ω–æ:** –ü–ª–∞–Ω —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º TDD (Test-Driven Development). –°–Ω–∞—á–∞–ª–∞ –ø–∏—à—É—Ç—Å—è —Ç–µ—Å—Ç—ã, –∑–∞—Ç–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è. UI —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å.

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è Watch App

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:**
   - –§–∞–π–ª `SupportingFiles/Localizable.xcstrings` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Watch App target
   - –í—Å–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —á–∞—Å–æ–≤ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —ç—Ç–æ—Ç –∂–µ —Ñ–∞–π–ª —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `Watch.*`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–≥–æ —Ñ–∞–π–ª–∞ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ —Å—Ç—Ä–æ–∫–∏

2. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è displayName –¥–ª—è —á–∞—Å–æ–≤:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

3. **–ò–∑–±–µ–∂–∞–Ω–∏–µ –¥—É–±–ª–µ–π –∫–ª—é—á–µ–π:**
   - –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏ –≤ `Localizable.xcstrings`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏ —Ç–∞–º, –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ (`Home.Activity`, `.workoutDay`, `.stretchDay`, `.restDay`, `.sickDay` –∏ –¥—Ä.)
   - –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è —á–∞—Å–æ–≤ –∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

4. **–°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–≤–æ–¥–æ–≤:**
   - –í—Å–µ –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å `"state" : "needs_review"`
   - –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏

### –≠—Ç–∞–ø 1-6: –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚úÖ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞, Codable –º–æ–¥–µ–ª–∏, —Å–µ—Ä–≤–∏—Å—ã, ViewModels, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å iPhone, UI —ç–∫—Ä–∞–Ω—ã
- ‚ö†Ô∏è WCSessionDelegate –¥–ª—è watchOS: –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –º–µ—Ç–æ–¥—ã `sessionDidBecomeInactive` –∏ `sessionDidDeactivate` (unavailable –Ω–∞ watchOS)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (`Watch.Activity.*`, `Watch.Workout.*`)

### –≠—Ç–∞–ø 7: UI/UX –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —á–∞—Å–æ–≤

#### 7.1 –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞ ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω, –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —à—Ä–∏—Ñ—Ç–æ–≤ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

#### 7.2 –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å ‚úÖ
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –≠—Ç–∞–ø 8: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### 8.1-8.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 18+ unit-—Ç–µ—Å—Ç–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–æ 18 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

#### 8.3 UI-—Ç–µ—Å—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –¢–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- [ ] –¢–µ—Å—Ç—ã –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- [ ] –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

#### 8.4 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —á–∞—Å–∞—Ö (—Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ —Å iPhone
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 8.4.1 –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚úÖ
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—ã—è–≤–ª–µ–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (—Å–º. —Ä–∞–∑–¥–µ–ª 8.6.1)

#### 8.4.2 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤, –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Ä—É—á–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –±–∞–≥–∏ (1-6, 7-10, 11-12):** ‚úÖ
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫—Ä—É–≥–æ–≤/–ø–æ–¥—Ö–æ–¥–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

#### 8.5 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `feature-map.md` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —á–∞—Å–∞—Ö
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —á–∞—Å–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API WatchConnectivity
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

#### 8.6 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

##### 8.6.1 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É iPhone –∏ —á–∞—Å–∞–º–∏ üî¥ **–í–ê–ñ–ù–û: –ù–ï –í–´–ü–û–õ–ù–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ iPhone –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π –ø–æ–¥—Ä—è–¥ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π `PHONE_COMMAND_AUTH_STATUS` –Ω–∞ —á–∞—Å—ã
- **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —á–∞—Å–∞—Ö –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π `PHONE_COMMAND_AUTH_STATUS` –æ—Ç iPhone, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `sendCurrentStatus()` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç:
  - `getStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()` –¥–≤–∞–∂–¥—ã (–¥–æ –∏ –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
  - `sendApplicationContextOnActivation()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `applicationContext` –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ WCSession
  - `onChange(of: currentDayCalculator)` –≤—ã–∑—ã–≤–∞–µ—Ç `sendDayDataToWatch()`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()`
  - `onChange(of: authHelper.isAuthorized)` –≤—ã–∑—ã–≤–∞–µ—Ç `processAuthStatus()`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()`
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ `applicationContext` –∏ `sendMessage` –≤ –æ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ `sendCurrentStatus()`
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–∑ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–í—ã—è–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–ø–æ –ª–æ–≥–∞–º):**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —á–∞—Å–∞—Ö: –ø–æ–ª—É—á–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π `PHONE_COMMAND_AUTH_STATUS` –æ—Ç iPhone –ø–æ–¥—Ä—è–¥
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ iPhone: –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π –ø–æ–¥—Ä—è–¥ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `PHONE_COMMAND_AUTH_STATUS` –Ω–∞ —á–∞—Å—ã
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ —á–∞—Å–∞—Ö –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤

**–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ iPhone:**
   - `getStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()` –¥–≤–∞–∂–¥—ã (—Å—Ç—Ä–æ–∫–∞ 141 –∏ 174)
   - `sendApplicationContextOnActivation()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ WCSession (—Å—Ç—Ä–æ–∫–∞ 887)
   - `onChange(of: currentDayCalculator)` –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å `sendDayDataToWatch()` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
   - –í—Å–µ —ç—Ç–∏ –≤—ã–∑–æ–≤—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ–¥—Ä—è–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è–º

2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ:**
   - `sendCurrentStatus()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏ `applicationContext`, –∏ `sendMessage` —Å `PHONE_COMMAND_AUTH_STATUS`
   - –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–≤–æ–π–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ —á–∞—Å–∞—Ö: —Å–Ω–∞—á–∞–ª–∞ —á–µ—Ä–µ–∑ `applicationContext`, –ø–æ—Ç–æ–º —á–µ—Ä–µ–∑ `sendMessage`

3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —á–∞—Å–∞—Ö:**
   - –ß–∞—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∏ `applicationContext`, –∏ `sendMessage` —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é:**

1. **–£–±—Ä–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:**
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ `sendCurrentStatus()` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤ –∏–∑ `getStatus()` (–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω, –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `sendApplicationContextOnActivation()` –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ —É–∂–µ –±—ã–ª–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ `sendCurrentStatus()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `onChange(of: currentDayCalculator)` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ª–∏—à–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

2. **–†–∞–∑–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏ `applicationContext` –∏ `sendMessage`:**
   - `applicationContext` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ)
   - `sendMessage` —Å PHONE_COMMAND_AUTH_STATUS –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ –∏ —á–∞—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ `sendMessage` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `applicationContext` –Ω–µ –±—ã–ª —É—Å–ø–µ—à–Ω–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–ª–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

3. **–î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –Ω–∞ —á–∞—Å–∞—Ö:**
   - –ù–∞ —á–∞—Å–∞—Ö `handleReceivedMessage()` –¥–ª—è PHONE_COMMAND_AUTH_STATUS –¥–æ–ª–∂–µ–Ω –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø–æ–ª—É—á–µ–Ω—ã —á–µ—Ä–µ–∑ `applicationContext` –∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
   - –ò–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `applicationContext` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è

4. **–£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç `sendCurrentStatus()` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã–∑–æ–≤—ã –∏–∑ UI –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- **–í–´–°–û–ö–ò–ô:** –ü—Ä–æ–±–ª–µ–º–∞ —Å –ª–∏—à–Ω–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –¢—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:**

**1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ iPhone (StatusManager.swift):**
   - **–°—Ç—Ä–æ–∫–∞ 141:** `getStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()` –¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `currentDayCalculator`)
   - **–°—Ç—Ä–æ–∫–∞ 174:** `getStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()` –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `currentDayCalculator`)
   - **–°—Ç—Ä–æ–∫–∞ 887:** `sendApplicationContextOnActivation()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ WCSession (—á–µ—Ä–µ–∑ `session(_:activationDidCompleteWith:error:)`)
   - **–°—Ç—Ä–æ–∫–∞ 128 (SwiftUI_SotkaAppApp.swift):** `onChange(of: currentDayCalculator)` –≤—ã–∑—ã–≤–∞–µ—Ç `sendDayDataToWatch()`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `sendCurrentStatus()` (—Å—Ç—Ä–æ–∫–∞ 276)
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º—É–º 3-4 —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–¥—Ä—è–¥

**2. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `sendCurrentStatus()` (StatusManager.swift, —Å—Ç—Ä–æ–∫–∞ 286-307):**
   - –ú–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏ `applicationContext` (—Å—Ç—Ä–æ–∫–∞ 288), –∏ `sendMessage` (—Å—Ç—Ä–æ–∫–∞ 301)
   - –û–±–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–µ—Ä–µ–¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`isAuthorized`, `currentDay`, `currentActivity`)
   - –ù–∞ —á–∞—Å–∞—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–±–∞: `handleApplicationContext()` –∏ `handleReceivedMessage()`
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `sendCurrentStatus()` –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥–≤–æ–π–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ —á–∞—Å–∞—Ö

**3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ —á–∞—Å–∞—Ö (WatchConnectivityService.swift):**
   - **–°—Ç—Ä–æ–∫–∞ 370-393:** `handleApplicationContext()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
   - **–°—Ç—Ä–æ–∫–∞ 336-368:** `handleReceivedMessage()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã
   - –ù–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, –≤—ã–∑—ã–≤–∞—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**4. –í—ã–∑–æ–≤—ã –∏–∑ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   - `WorkoutPreviewScreen.swift:222` - –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
   - `JournalListView.swift:116` - –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - `HomeActivitySectionView.swift:36,127` - –ø—Ä–∏ –≤—ã–±–æ—Ä–µ/—É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - `JournalGridView.swift:164` - –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑–æ–≤—ã –º–æ–≥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

**–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ TDD:**

### –≠—Ç–∞–ø 1: –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤ `sendCurrentStatus()` –∏–∑ `getStatus()`

**–¶–µ–ª—å:** –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ `sendCurrentStatus()` –≤ `getStatus()` (–ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `StatusManagerWatchConnectivityTests.testGetStatusSendsStatusOnlyOnceAfterSync()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `getStatus()` –º–µ—Ç–æ–¥ `sendCurrentStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫ `MockWCSession` –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≤—ã–∑–æ–≤–æ–≤ `sendMessageToWatch` –∏ `updateApplicationContextOnWatch`
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 2 –≤—ã–∑–æ–≤–∞, –±—É–¥–µ—Ç 1)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –£–±—Ä–∞—Ç—å –≤—ã–∑–æ–≤ `sendCurrentStatus()` –∏–∑ —Å—Ç—Ä–æ–∫–∏ 141 –≤ `getStatus()` (–¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤—ã–∑–æ–≤ –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞ 174)
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –≤—Å–µ –µ—â–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –≠—Ç–∞–ø 2: –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –≤ `sendCurrentStatus()` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–¶–µ–ª—å:** –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `sendMessage`, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `StatusManagerWatchConnectivityTests.testSendCurrentStatusDeduplicatesIdenticalData()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –¥–≤—É—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö `sendCurrentStatus()` —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
     - `applicationContext` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ–±–∞ —Ä–∞–∑–∞ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
     - `sendMessage` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã)
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 1 –≤—ã–∑–æ–≤ `sendMessage`, –±—É–¥–µ—Ç 2)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `StatusManager` —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`lastSentStatus`)
   - –í `sendCurrentStatus()` —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å `lastSentStatus`
   - –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å `sendMessage` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∏–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤
   - –û–±–Ω–æ–≤–ª—è—Ç—å `lastSentStatus` –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –í—ã–Ω–µ—Å—Ç–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `hasStatusChanged()`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—ã

### –≠—Ç–∞–ø 3: –†–∞–∑–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏ `applicationContext` –∏ `sendMessage`

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ `applicationContext` –∏ `sendMessage`, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç–¥–µ–ª—å–Ω–æ

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã:
     - `StatusManagerWatchConnectivityTests.testUpdateApplicationContextAlwaysSends()`
     - `StatusManagerWatchConnectivityTests.testSendMessageOnlyWhenReachable()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `updateApplicationContextOnWatch()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ (–¥–∞–∂–µ –µ—Å–ª–∏ —á–∞—Å—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `sendMessage` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —á–∞—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã (`isReachable`)
   - –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–∞–¥–∞—Ç—å (–º–µ—Ç–æ–¥—ã –µ—â–µ –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –†–∞–∑–¥–µ–ª–∏—Ç—å `sendCurrentStatus()` –Ω–∞ –¥–≤–∞ –º–µ—Ç–æ–¥–∞:
     - `updateApplicationContextOnWatch()` - –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ `applicationContext` (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
     - `sendMessageToWatchIfReachable()` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ `sendMessage`
   - –í `sendCurrentStatus()` –≤—ã–∑—ã–≤–∞—Ç—å –æ–±–∞ –º–µ—Ç–æ–¥–∞
   - –°–¥–µ–ª–∞—Ç—å `updateApplicationContextOnWatch()` –ø—É–±–ª–∏—á–Ω—ã–º
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test` - —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `updateApplicationContextOnWatch()` –≤ `sendApplicationContext()` –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
   - –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø 4: –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –Ω–∞ —á–∞—Å–∞—Ö –≤ `handleReceivedMessage()`

**–¶–µ–ª—å:** –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è `PHONE_COMMAND_AUTH_STATUS`, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `WatchConnectivityServiceTests.testHandleReceivedMessageDeduplicatesAuthStatus()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π `PHONE_COMMAND_AUTH_STATUS`:
     - `authService.updateAuthStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
     - –í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 1 –≤—ã–∑–æ–≤, –±—É–¥–µ—Ç 2)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `WatchConnectivityService` —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`lastProcessedStatus`)
   - –í `handleReceivedMessage()` –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `.authStatus` —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å `lastProcessedStatus`
   - –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
   - –û–±–Ω–æ–≤–ª—è—Ç—å `lastProcessedStatus` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test_watch` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –í—ã–Ω–µ—Å—Ç–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `hasStatusChanged()`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—ã

### –≠—Ç–∞–ø 5: –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –Ω–∞ —á–∞—Å–∞—Ö –≤ `handleApplicationContext()`

**–¶–µ–ª—å:** –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å `applicationContext`, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `WatchConnectivityServiceTests.testHandleApplicationContextDeduplicates()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö `applicationContext`:
     - `authService.updateAuthStatus()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
     - `currentDay` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
     - `currentActivity` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 1 –≤—ã–∑–æ–≤ –∫–∞–∂–¥–æ–≥–æ, –±—É–¥–µ—Ç 2)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ –∂–µ —Å–≤–æ–π—Å—Ç–≤–æ `lastProcessedStatus` –∏–∑ —ç—Ç–∞–ø–∞ 4
   - –í `handleApplicationContext()` —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Å `lastProcessedStatus`
   - –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
   - –û–±–Ω–æ–≤–ª—è—Ç—å `lastProcessedStatus` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test_watch` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π –º–µ—Ç–æ–¥ `hasStatusChanged()` –¥–ª—è –æ–±–æ–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –æ–±–æ–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤

### –≠—Ç–∞–ø 6: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ª–∏—à–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `onChange(of: currentDayCalculator)`

**–¶–µ–ª—å:** –ù–µ –≤—ã–∑—ã–≤–∞—Ç—å `sendDayDataToWatch()` –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `currentDayCalculator` (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `StatusManagerWatchConnectivityTests.testSendDayDataToWatchNotCalledOnInitialChange()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `currentDayCalculator` (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ) `sendDayDataToWatch()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö `sendDayDataToWatch()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 0 –≤—ã–∑–æ–≤–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏, –±—É–¥–µ—Ç 1)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `StatusManager` —Ñ–ª–∞–≥ `isInitialLoad` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –í `onChange(of: currentDayCalculator)` –ø—Ä–æ–≤–µ—Ä—è—Ç—å `isInitialLoad`
   - –ù–µ –≤—ã–∑—ã–≤–∞—Ç—å `sendDayDataToWatch()` –µ—Å–ª–∏ `isInitialLoad == true`
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å `isInitialLoad = false` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `getStatus()`
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ –≤ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `hasCompletedInitialSync`)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

### –≠—Ç–∞–ø 7: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å `sendApplicationContextOnActivation()` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

**–¶–µ–ª—å:** –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `applicationContext` –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ `sendCurrentStatus()`

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `StatusManagerWatchConnectivityTests.testSendApplicationContextOnActivationDeduplicates()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π:
     - –í—ã–∑–≤–∞—Ç—å `sendCurrentStatus()` —Å –¥–∞–Ω–Ω—ã–º–∏
     - –ó–∞—Ç–µ–º –≤—ã–∑–≤–∞—Ç—å `sendApplicationContextOnActivation()` —Å —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏
     - `updateApplicationContextOnWatch()` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–∏–ª–∏ –≤—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω)
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 1 –≤—ã–∑–æ–≤, –±—É–¥–µ—Ç 2)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ –∂–µ —Å–≤–æ–π—Å—Ç–≤–æ `lastSentStatus` –∏–∑ —ç—Ç–∞–ø–∞ 2
   - –í `sendApplicationContextOnActivation()` —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å `lastSentStatus`
   - –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `applicationContext`, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ WCSession –¥–æ –≤—ã–∑–æ–≤–∞ `sendCurrentStatus()`

### –≠—Ç–∞–ø 8: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –∑–∞–ø—É—Å–∫–∞

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑

**TDD —Ü–∏–∫–ª:**

1. **–ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç):**
   - –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç `StatusManagerWatchConnectivityTests.testFullStartupScenarioSendsStatusOnce()`
   - –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–ø—É—Å–∫–∞:
     - –ê–∫—Ç–∏–≤–∞—Ü–∏—è WCSession ‚Üí `sendApplicationContextOnActivation()`
     - –í—ã–∑–æ–≤ `getStatus()` ‚Üí `sendCurrentStatus()` –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
     - –ò–∑–º–µ–Ω–µ–Ω–∏–µ `currentDayCalculator` ‚Üí –Ω–µ –¥–æ–ª–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å `sendDayDataToWatch()`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `sendMessage` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ (–æ–∂–∏–¥–∞–µ—Ç—Å—è 1-2 —Ä–∞–∑–∞)
   - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–æ–∂–∏–¥–∞–µ—Ç—Å—è 1-2 –≤—ã–∑–æ–≤–∞, –±—É–¥–µ—Ç –±–æ–ª—å—à–µ)

2. **–ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥):**
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —ç—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–≥–∏–∫—É
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format` –∏ `make test` - —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –≠—Ç–∞–ø 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑–æ–≤–æ–≤ –∏–∑ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –ª–∏—à–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ (–±–µ–∑ TDD, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ UI):**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –≤—ã–∑–æ–≤–∞ `sendCurrentStatus()` –≤ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
     - `WorkoutPreviewScreen.swift:222` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
     - `JournalListView.swift:116` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
     - `HomeActivitySectionView.swift:36,127` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ/—É–¥–∞–ª–µ–Ω–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
     - `JournalGridView.swift:164` - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã–∑–æ–≤—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ï—Å–ª–∏ –µ—Å—Ç—å –≤—ã–∑–æ–≤—ã –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ - —É–±—Ä–∞—Ç—å –∏—Ö

### –≠—Ç–∞–ø 10: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –∫–æ–¥ —á–∏—Å—Ç—ã–π

**–î–µ–π—Å—Ç–≤–∏—è:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã: `make test` –∏ `make test_watch`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `make format`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É: `make build`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (iPhone + Apple Watch)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è

#### 8.7 –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

##### 8.7.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚ö†Ô∏è

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—ã—è–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ (—Å–º. —Ä–∞–∑–¥–µ–ª 8.6.1)

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ —Å iPhone
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª—è—Ö —á–∞—Å–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª–æ–≤ (–Ω–µ—Ç force unwrap)
- [x] ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è watchOS: UIKit API –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—ã –≤ —É—Å–ª–æ–≤–Ω—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

#### –ú–æ–¥–µ–ª–∏ —Å Codable –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

**–ú–æ–¥–µ–ª–∏ —Å Codable:**
- `WorkoutResult` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (count, duration)
- `WorkoutPreviewTraining` - –¥–∞–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
- `WorkoutData` - –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (day, executionType, trainings, plannedCount)
- `WorkoutDataResponse` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å iPhone (workoutData, executionCount, comment)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**
- –ü—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–ª—É—á–∞—é—Ç Codable –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —á–µ—Ä–µ–∑ WatchConnectivity, enum'—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ rawValue (Int)
- –ú–æ–¥–µ–ª–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ –æ–±—â–∏—Ö –º–æ–¥–µ–ª—è—Ö (`Models/SWSharedModels/`) –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Watch App target

### –ö–æ–º–∞–Ω–¥—ã WatchConnectivity

```swift
extension Constants {
    /// –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone —á–µ—Ä–µ–∑ WatchConnectivity
    enum WatchCommand: String {
        // –û—Ç —á–∞—Å–æ–≤ –∫ iPhone
        case setActivity = "WATCH_COMMAND_SET_ACTIVITY"
        case saveWorkout = "WATCH_COMMAND_SAVE_WORKOUT"
        case getCurrentActivity = "WATCH_COMMAND_GET_CURRENT_ACTIVITY"
        case getWorkoutData = "WATCH_COMMAND_GET_WORKOUT_DATA"
        case deleteActivity = "WATCH_COMMAND_DELETE_ACTIVITY"
        
        // –û—Ç iPhone –∫ —á–∞—Å–∞–º
        case currentActivity = "PHONE_COMMAND_CURRENT_ACTIVITY"
        case sendWorkoutData = "PHONE_COMMAND_SEND_WORKOUT_DATA"
        case currentStatus = "PHONE_COMMAND_CURRENT_STATUS"
    }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Enum `Constants.WatchCommand` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `SwiftUI-SotkaApp/Models/SWSharedModels/Constants.swift` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –æ–±–æ–∏–º —Ç–∞—Ä–≥–µ—Ç–∞–º (–æ—Å–Ω–æ–≤–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –∏ Watch App).

### –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π WatchConnectivity

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
```json
{
    "command": "WATCH_COMMAND_SET_ACTIVITY",
    "day": 42,
    "activityType": 0
}
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:**
```json
{
    "command": "WATCH_COMMAND_SAVE_WORKOUT",
    "day": 42,
    "result": {"count": 4, "duration": 1800},
    "executionType": 0,
    "trainings": [...],
    "comment": "–û—Ç–ª–∏—á–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞!"
}
```

**–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
```json
{
    "command": "WATCH_COMMAND_DELETE_ACTIVITY",
    "day": 42
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 
- –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ `PHONE_COMMAND_CURRENT_STATUS` - –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ (—Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –∏ —Ç–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω—É–∂–Ω—ã - —á–∞—Å—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û—Ç–≤–µ—Ç —Å —Ç–µ–∫—É—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –¥–Ω—è:**
```json
{
    "command": "PHONE_COMMAND_CURRENT_ACTIVITY",
    "day": 42,
    "activityType": 0,
    "count": null,
    "duration": null
}
```

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ (—á–µ—Ä–µ–∑ `sendMessage`):**
```json
{
    "command": "PHONE_COMMAND_CURRENT_STATUS",
    "isAuthorized": true,
    "currentDay": 42,
    "currentActivity": 0
}
```
*–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:*
- –ö–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `sendMessage` –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/–ª–æ–≥–∞—É—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `currentDayCalculator`
- `isAuthorized: Bool` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (—Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `currentDay: Int?` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –µ—Å–ª–∏ `isAuthorized == true`, –∏–Ω–∞—á–µ `null`
- `currentActivity: Int?` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ (—Ç–∏–ø –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è, –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞)
- –ß–∞—Å—ã –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ WatchConnectivity, –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–í–∞–∂–Ω–æ:** ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `sendMessageToWatch`, –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `AuthRequiredView`

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

**–†–µ—à–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏ (1, 5-7):** ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–∏—Å–∫–∏:**
- **–†–∏—Å–∫ 2:** –†–∞–∑–ª–∏—á–∏—è –≤ –¥–∞–Ω–Ω—ã—Ö - iPhone –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
- **–†–∏—Å–∫ 3:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–†–∏—Å–∫ 4:** –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ - –ø—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —á–µ—Ç–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–í—ã—Å–æ–∫–∏–π –∏ —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)
1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HealthKit
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö
4. –¶–∏—Ñ–µ—Ä–±–ª–∞—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

## –û—Ç–ª–∏—á–∏—è –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å—Ç–∞—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (SOTKA-OBJc)

–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –Ω–æ–≤–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å—Ç–∞—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ SOTKA-OBJc.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (SOTKA-OBJc):**
- –ß–∞—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **CoreData** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–¥–µ–ª–∏: `WatchDbDay`, `WatchDbTraining`, `WatchDbCustomExercise`, `WatchDbSettings`
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —á–∞—Å–∞—Ö —Å —Ñ–ª–∞–≥–æ–º `synched` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: —á–∞—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
- –û—á–µ—Ä–µ–¥—å –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —á–∞—Å–∞—Ö

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ):**
- –ß–∞—Å—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ WatchConnectivity –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- iPhone - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (SwiftData), —á–∞—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ WatchConnectivity (`sendMessage`), –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `AuthRequiredView`

### –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **JSON —Å—Ç—Ä–æ–∫–∏** (NSString) –≤ Dictionary
- –ö–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ **—á–∏—Å–ª–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (enum WATCH_COMMANDS: 0, 1, 2...)
- –î–∞–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON —Å—Ç—Ä–æ–∫—É —á–µ—Ä–µ–∑ `toJSONString()`
- –ü—Ä–∏–º–µ—Ä: `@{@"command": @"0", @"days": jsonString}`

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–º–æ–¥–µ–ª–∏ —Å Codable** –¥–ª—è –ø—Ä—è–º–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ DTO)
- –ö–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ **—Å—Ç—Ä–æ–∫–æ–≤—ã–µ enum** (WatchCommand: "WATCH_COMMAND_GET_TRAIN_LIST")
- –î–∞–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ JSONEncoder/JSONDecoder
- –ü—Ä–∏–º–µ—Ä: `{"command": "WATCH_COMMAND_SAVE_WORKOUT", "result": {...}}`

### –ö–æ–º–∞–Ω–¥—ã WatchConnectivity

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- `WATCH_COMMAND_GET_TRAIN_LIST` (0) - –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- `WATCH_COMMAND_SAVE_TRAININGS` (1) - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–º–∞—Å—Å–∏–≤ –¥–Ω–µ–π)
- `PHONE_COMMAND_UPDATE_CURRENT_DAY` (2) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
- `PHONE_SYNC_REQUEST` (3) - –∑–∞–ø—Ä–æ—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `PHONE_COMMAND_GET_UNSYNCED_TRAININGS` (4) - –∑–∞–ø—Ä–æ—Å –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ —Å —è–≤–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏, –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (–æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)
- –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–µ –Ω—É–∂–Ω—ã - —Å—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ WatchConnectivity (`sendMessage`)

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –ù–µ –≤–∏–¥–Ω–æ —è–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–∞—Å–æ–≤
- –ß–∞—Å—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —è–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, —ç–∫—Ä–∞–Ω `AuthRequiredView`
- –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ WatchConnectivity

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –î–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ `WatchObject` (JSON —Å—Ç—Ä–æ–∫–∞)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–∞–∫–µ—Ç–∞–º–∏ (–º–∞—Å—Å–∏–≤ –¥–Ω–µ–π)
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —á–∞—Å–∞—Ö –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –î–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª–∏ —Å Codable (`WorkoutData`, `WorkoutResult`)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ –æ–¥–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏/—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≤ iPhone –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ñ–ª–∞–≥–æ–º `synched`
- –ß–∞—Å—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ñ–ª–∞–π–Ω —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- –û—á–µ—Ä–µ–¥—å –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —á–∞—Å–∞—Ö
- iPhone –º–æ–∂–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —á–∞—Å–æ–≤

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö: —á–∞—Å—ã ‚Üí iPhone (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)
- –ß–∞—Å—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —Å iPhone –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –Ω–µ—Ç –æ—á–µ—Ä–µ–¥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞, –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**–°—Ç–∞—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- Objective-C
- CoreData –Ω–∞ —á–∞—Å–∞—Ö
- UIKit –¥–ª—è —á–∞—Å–æ–≤ (WatchKit)
- JSON —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

**–ù–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- Swift 6.0
- SwiftData –Ω–∞ iPhone (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —á–∞—Å–∞—Ö)
- SwiftUI –¥–ª—è —á–∞—Å–æ–≤
- Codable –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä—è–º–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ DTO)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
   - –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —á–∞—Å–∞–º–∏ –∏ iPhone
   - –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

2. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:**
   - –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã (–∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
   - –ù–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ iPhone

4. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
   - SwiftUI –≤–º–µ—Å—Ç–æ WatchKit
   - SwiftData –≤–º–µ—Å—Ç–æ CoreData
   - Codable –º–æ–¥–µ–ª–∏ –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON –∏ DTO

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–≤—è–∑–∏:**
   - –ß–∞—Å—ã –Ω–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å–≤—è–∑—å —Å iPhone –¥–ª—è —Ä–∞–±–æ—Ç—ã

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç —Å–≤—è–∑–∏ —Å iPhone
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–∏ –ø–ª–æ—Ö–æ–π —Å–≤—è–∑–∏

3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
   - –ú–µ–Ω—å—à–µ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏ —á–∞—Å–æ–≤
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ iPhone

## –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã WatchConnectivity

**–í–∞–∂–Ω–æ:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª TDD (Test-Driven Development) –∏ unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **TDD —Ü–∏–∫–ª**: –ö—Ä–∞—Å–Ω—ã–π (—Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç) ‚Üí –ó–µ–ª–µ–Ω—ã–π (–∫–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç) ‚Üí –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å**: –¢–µ—Å—Ç ‚Üí –ö–æ–¥ ‚Üí `make format` ‚Üí `make test` ‚Üí –°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Swift Testing (`import Testing`), `@Test`, `#expect`, `#require`
- **–ú–æ–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (WCSession, —Å–µ—Ä–≤–∏—Å—ã)
- **–û–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤**: –í—Å–µ —Ç–µ—Å—Ç—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Test`

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã WatchConnectivity ‚úÖ
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞ (~200 —Å—Ç—Ä–æ–∫), —É–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

#### –†–∏—Å–∫ 1: –ü—Ä–æ–±–ª–µ–º—ã —Å actor isolation

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–µ–ª–µ–≥–∞—Ç WCSession `nonisolated`, –∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ —Ç—Ä–µ–±—É–µ—Ç `@MainActor`

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Task { @MainActor in }` –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ MainActor
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `nonisolated(unsafe)` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

#### –†–∏—Å–∫ 2: –ü–æ—Ç–µ—Ä—è –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –Ω–µ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- WatchConnectivity –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—è –ø–æ—Ä—è–¥–∫–∞ - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ Actor
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

#### –†–∏—Å–∫ 3: –†–µ–≥—Ä–µ—Å—Å–∏–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ü–æ—à–∞–≥–æ–≤—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö


## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–ª–∞–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è Apple Watch —Å —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è, –∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Å iPhone, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ iPhone, –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω, –≤—ã–±–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- iPhone - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (SwiftData), —á–∞—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ WatchConnectivity (`sendMessageToWatch`)
- –î–∞–Ω–Ω—ã–µ –Ω–∞ —á–∞—Å–∞—Ö –ø–æ–ª—É—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `WatchConnectivityService`, –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤—è–∑–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `AuthRequiredView`

