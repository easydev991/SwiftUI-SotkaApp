# Установка и настройка проекта

## Начало работы

Для подготовки проекта к работе необходимо:
1. Клонировать репозиторий
2. Открыть в терминале папку с проектом
3. Выполнить команду `make setup`

Все команды перечислены в [Makefile](../Makefile), справку можно получить по команде `make help`.

## Настройка языкового сервера Swift для Cursor

Если вы используете Cursor для разработки, вы можете настроить языковой сервер Swift для получения подсказок, автодополнения и навигации по коду.

### Способ 1: SweetPad
1. Открываем Cursor
2. Устанавливаем расширение [SweetPad](https://marketplace.visualstudio.com/items?itemName=sweetpad.sweetpad) в Cursor
3. Открываем Command Palette (`Cmd + Shift + P`)
4. Выполняем команду `SweetPad: Generate Build Server Config`
5. Перезапускаем Cursor

### Способ 2: Команда в Makefile

Если вы не используете `SweetPad`, можно воспользоваться командой:
```shell
make setup_cursor
```
Эта команда автоматически установит необходимые инструменты и настроит языковой сервер.

## Форматирование кода

- Используем [SwiftFormat](https://github.com/nicklockwood/SwiftFormat) для форматирования кода
- Правила форматирования перечислены в файле [.swiftformat](../.swiftformat)
- Все правила можно найти [тут](https://github.com/nicklockwood/SwiftFormat/blob/master/Rules.md)
- Для запуска форматирования нужно в папке с проектом выполнить команду:
```shell
make format
```

### Как это работает
1. Перед каждым пушом должен выполняться хук, проверяющий необходимость форматирования кода
2. При нарушении правил форматирования кода гит выдаст ошибку и напишет команду, которую нужно выполнить для запуска `SwiftFormat`
3. Запускаем команду в терминале и выполняется форматирование кода

### Как обновить SwiftFormat
Выполняем команду в терминале в папке с проектом:
```shell
make update_swiftformat
```
или сразу:
```shell
make update
```

## Шпаргалка

### Настройка базовых параметров приложения  
`Xcode -> SwiftUI-SotkaApp -> Target: SwiftUI-SotkaApp -> General`
- `Display Name` - название приложения на экране смартфона 
- `Version` - версия приложения для магазина 
- `Build` - версия сборки для `TestFlight`
